<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create blank class lists for schools without Wonde data — create_school_blanks • WondeCL</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create blank class lists for schools without Wonde data — create_school_blanks"><meta name="description" content='Generates synthetic or "blank" class lists for schools that do not have
Wonde data access. The function uses provided school information (including
estimated student counts and optional teacher or class information) to
create mock class lists in a standardised format for downstream processing
and printing.'><meta property="og:description" content='Generates synthetic or "blank" class lists for schools that do not have
Wonde data access. The function uses provided school information (including
estimated student counts and optional teacher or class information) to
create mock class lists in a standardised format for downstream processing
and printing.'><meta property="og:image" content="/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">WondeCL</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Jake-Powell/WondeCL/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Create blank class lists for schools without Wonde data</h1>
      <small class="dont-index">Source: <a href="https://github.com/Jake-Powell/WondeCL/blob/master/R/manual_class_list_changes.R" class="external-link"><code>R/manual_class_list_changes.R</code></a></small>
      <div class="d-none name"><code>create_school_blanks.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Generates synthetic or "blank" class lists for schools that do not have
Wonde data access. The function uses provided school information (including
estimated student counts and optional teacher or class information) to
create mock class lists in a standardised format for downstream processing
and printing.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">create_school_blanks</span><span class="op">(</span></span>
<span>  <span class="va">schools_with_size</span>,</span>
<span>  numbering_type <span class="op">=</span> <span class="st">"school"</span>,</span>
<span>  teacher_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Reception"</span>, <span class="st">"Teacher"</span><span class="op">)</span>,</span>
<span>  class_name <span class="op">=</span> <span class="st">"Reception Class"</span>,</span>
<span>  type <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  class_buffer <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  class_size <span class="op">=</span> <span class="fl">30</span>,</span>
<span>  class_list_columns <span class="op">=</span> <span class="st">"master"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-schools-with-size">schools_with_size<a class="anchor" aria-label="anchor" href="#arg-schools-with-size"></a></dt>
<dd><p>A data frame containing at least:</p><ul><li><p>`SchoolName` — The name of each school.</p></li>
<li><p>`URN` — The Unique Reference Number for each school.</p></li>
<li><p>`NoStudents` — Estimated number of students at the school.</p></li>
<li><p>Optional: `ClassInfo` (formatted as `"Class1 -&gt; 28, Class2 -&gt; 30"`)
        to specify class names and sizes.</p></li>
<li><p>Optional: `TeacherInfo` (formatted as `"First Last, First Last"`)
        to specify class teacher names.</p></li>
</ul></dd>


<dt id="arg-numbering-type">numbering_type<a class="anchor" aria-label="anchor" href="#arg-numbering-type"></a></dt>
<dd><p>Character, default `"school"`. Determines how pupils
are numbered. If `"school"`, assigns sequential pupil numbers across the
entire school.</p></dd>


<dt id="arg-teacher-name">teacher_name<a class="anchor" aria-label="anchor" href="#arg-teacher-name"></a></dt>
<dd><p>Character vector of length 2 giving a default teacher
first and last name to use when none is provided in `schools_with_size`.
Defaults to `c("Reception", "Teacher")`.</p></dd>


<dt id="arg-class-name">class_name<a class="anchor" aria-label="anchor" href="#arg-class-name"></a></dt>
<dd><p>Character, default `"Reception Class"`. The base name
to use when automatically generating class names (e.g. `"Reception Class 1"`,
`"Reception Class 2"`).</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Numeric or character, default `30`. If numeric, sets the default
number of students per class. If not numeric (e.g. `"auto"`), class sizes
are estimated from total student counts divided across inferred classes,
plus an optional buffer (see `class_buffer`).</p></dd>


<dt id="arg-class-buffer">class_buffer<a class="anchor" aria-label="anchor" href="#arg-class-buffer"></a></dt>
<dd><p>Integer, default `5`. When class sizes are automatically
estimated, this value is added to the computed class size to avoid undercounting.</p></dd>


<dt id="arg-class-size">class_size<a class="anchor" aria-label="anchor" href="#arg-class-size"></a></dt>
<dd><p>Integer, default `30`. Target class size used to determine
how many classes to create per school when `ClassInfo` is missing.</p></dd>


<dt id="arg-class-list-columns">class_list_columns<a class="anchor" aria-label="anchor" href="#arg-class-list-columns"></a></dt>
<dd><p>Character vector specifying the desired column
structure of the returned data frame. Two shortcuts are available:</p><ul><li><p>`"master"` — returns all key fields (school info, teacher, pupil, IDs, withdrawal status).</p></li>
<li><p>`"print"` — returns a reduced set of fields for printing lists.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data frame representing the generated class list for all supplied schools.
The columns and order depend on the value of `class_list_columns`.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For each school, the function:</p><ol><li><p>Parses `ClassInfo` and `TeacherInfo` columns (if present) to
        determine the number and names of classes, and their associated teachers.</p></li>
<li><p>If `ClassInfo` is missing, automatically estimates the number
        of classes required based on total student count and `class_size`.</p></li>
<li><p>Creates one or more blank class lists for each school, assigning
        placeholder pupil numbers and teacher names.</p></li>
<li><p>Fills missing required columns with `NA` and reorders columns
        according to `class_list_columns`.</p></li>
</ol><p>This function is designed to ensure that downstream processing scripts
(e.g., withdrawal handling, printing, ID assignment) can operate on schools
even when no data has been received from Wonde.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>[rbind_aggro()] for combining multiple data frames safely.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Example input data</span></span></span>
<span class="r-in"><span><span class="va">schools_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  SchoolName <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Maple Primary"</span>, <span class="st">"Oakwood Academy"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  URN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">123456</span>, <span class="fl">789012</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  NoStudents <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">60</span>, <span class="fl">90</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create blank class lists</span></span></span>
<span class="r-in"><span><span class="va">blanks</span> <span class="op">&lt;-</span> <span class="fu">create_school_blanks</span><span class="op">(</span></span></span>
<span class="r-in"><span>  schools_with_size <span class="op">=</span> <span class="va">schools_df</span>,</span></span>
<span class="r-in"><span>  class_size <span class="op">=</span> <span class="fl">30</span>,</span></span>
<span class="r-in"><span>  class_list_columns <span class="op">=</span> <span class="st">"master"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">blanks</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Jake Powell.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

