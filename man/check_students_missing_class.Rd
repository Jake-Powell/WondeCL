% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/checks.R
\name{check_students_missing_class}
\alias{check_students_missing_class}
\title{Check for students missing subject class assignments}
\usage{
check_students_missing_class(
  class_list_df,
  WondeData,
  subject_name = "Maths",
  output_prefix = "Students_without_subject_class"
)
}
\arguments{
\item{class_list_df}{A data frame containing class list information,
typically the output from \code{\link{extract_class_list}()}. Must include
at least the columns `SchoolId`, `SchoolName`, `StudentId`, `ClassId`,
`StudentFirstName`, and `StudentLastName`.}

\item{WondeData}{A named list of Wonde data frames, usually returned by
\code{\link{get_secondary_school_student_data}()}, where each element
corresponds to a school and includes components such as
`students_classes` and `subjects`.}

\item{subject_name}{Character string specifying the subject of interest
(e.g., `"Maths"`). This value is used only for output labeling.
Default is `"Maths"`.}

\item{output_prefix}{Character string specifying a prefix for output
filenames or logs. Default is `"Students_without_subject_class"`.}
}
\value{
A list containing three data frames:
\describe{
  \item{`missing_students`}{Data frame of students with missing class IDs.}
  \item{`class_subject_of_missing`}{Data frame showing available class and
  subject details for each missing student, derived from `WondeData`.}
  \item{`missing_per_school`}{Summary data frame showing the total number
  and percentage of affected students per school.}
}
}
\description{
Identifies students in the provided class list who have no recorded class
assignment (i.e., missing `ClassId`), retrieves their related subject and
class data from Wonde exports, and summarises the issue per school. This
function provides a clear overview of students who are not currently
enrolled in a subject class, such as Maths.
}
\details{
The function performs the following steps:
\enumerate{
  \item Uses \code{\link{detect_students_missing_class}()} to identify
        students without a class assignment.
  \item For each missing student, extracts any available class and subject
        information from their corresponding school's `WondeData` entry.
  \item Aggregates a school-level summary reporting the total number and
        percentage of affected students.
}

It is typically used as a diagnostic or quality-control step after data
extraction, before final analysis or export.
}
\examples{
\dontrun{
missing_summary <- check_students_missing_class(
  class_list_df = class_list_df,
  WondeData = WondeData,
  subject_name = "Maths"
)

head(missing_summary$missing_per_school)
}

}
